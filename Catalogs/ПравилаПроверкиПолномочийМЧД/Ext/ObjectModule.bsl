// @strict-types

#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ОбработчикиСобытий

Процедура ПередЗаписью(Отказ)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	ДатаИзменения = ТекущаяДатаСеанса();
	
	Если НЕ ЗначениеЗаполнено(ДатаСоздания) Тогда
		ДатаСоздания = ДатаИзменения;
	КонецЕсли;
	
	Скрипт = СокрЛП(Скрипт);
	Ответственный = Пользователи.АвторизованныйПользователь();
	ПравилоНастроено = ЗначениеЗаполнено(Скрипт) ИЛИ НастройкиПроверки.Количество() > 0;
	
КонецПроцедуры

#КонецОбласти

#КонецЕсли
